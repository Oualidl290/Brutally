# Redis Sentinel Configuration for High Availability
# This provides automatic failover for Redis

# Sentinel Configuration
port 26379
sentinel announce-ip 127.0.0.1
sentinel announce-port 26379

# Monitor the master Redis instance
sentinel monitor video-processing-master redis 6379 1

# Authentication (if Redis has requirepass set)
# sentinel auth-pass video-processing-master your_redis_password_here

# Timeouts and thresholds
sentinel down-after-milliseconds video-processing-master 5000
sentinel parallel-syncs video-processing-master 1
sentinel failover-timeout video-processing-master 10000

# Notification scripts (optional)
# sentinel notification-script video-processing-master /scripts/notify.sh
# sentinel client-reconfig-script video-processing-master /scripts/reconfig.sh

# Logging
logfile /var/log/redis/sentinel.log
loglevel notice

# Working directory
dir /tmp

# Deny dangerous commands
sentinel deny-scripts-reconfig yes

# Additional monitoring settings
sentinel resolve-hostnames yes
sentinel announce-hostnames yes